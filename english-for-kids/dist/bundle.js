!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e){e.exports=JSON.parse('[{"name":"space","words":[{"en":"rocket","ru":"ракета"},{"en":"sun","ru":"солнце"},{"en":"moon","ru":"луна"},{"en":"planet","ru":"планета"},{"en":"satellite","ru":"спутник"},{"en":"astronaut","ru":"астронавт"},{"en":"earth","ru":"земля"},{"en":"telescope","ru":"телескоп"}]},{"name":"food","words":[{"en":"apple","ru":"яблоко"},{"en":"banana","ru":"банан"},{"en":"fish","ru":"рыба"},{"en":"bread","ru":"хлеб"},{"en":"groceries","ru":"продукты"},{"en":"cheese","ru":"сыр"},{"en":"pumpkin","ru":"тыква"},{"en":"shrimp","ru":"креветка"},{"en":"tomato","ru":"помидор"},{"en":"cabbage","ru":"капуста"},{"en":"water","ru":"вода"},{"en":"grapefruit","ru":"грейпфрут"}]},{"name":"animals","words":[{"en":"chick","ru":"цыпленок"},{"en":"whale","ru":"кит"},{"en":"pig","ru":"свинья"},{"en":"fox","ru":"лиса"},{"en":"koala","ru":"коала"},{"en":"tiger","ru":"тигр"},{"en":"crab","ru":"краб"},{"en":"bull","ru":"бык"},{"en":"hedgehog","ru":"ежик"},{"en":"hippo","ru":"гиппопотам"},{"en":"lemur","ru":"лемур"},{"en":"zebra","ru":"зебра"}]},{"name":"body","words":[{"en":"head","ru":"голова"},{"en":"neck","ru":"шея"},{"en":"hand","ru":"рука"},{"en":"nose","ru":"нос"},{"en":"skull","ru":"череп"},{"en":"ear","ru":"ухо"},{"en":"tooth","ru":"зуб"},{"en":"stomach","ru":"желудок"}]},{"name":"nature","words":[{"en":"forest","ru":"лес"},{"en":"beach","ru":"пляж"},{"en":"lake","ru":"озеро"},{"en":"volcano","ru":"вулкан"},{"en":"rainbow","ru":"радуга"},{"en":"desert","ru":"пустыня"},{"en":"snow","ru":"снег"},{"en":"tree","ru":"дерево"},{"en":"flower","ru":"цветок"},{"en":"mountain","ru":"гора"}]},{"name":"activities","words":[{"en":"learn","ru":"учиться"},{"en":"read","ru":"читать"},{"en":"cry","ru":"плакать"},{"en":"play","ru":"играть"},{"en":"talk","ru":"говорить"},{"en":"win","ru":"побеждать"},{"en":"dance","ru":"танцевать"},{"en":"swim","ru":"плавать"},{"en":"draw","ru":"рисовать"},{"en":"eat","ru":"есть"},{"en":"sleep","ru":"спать"},{"en":"run","ru":"бегать"}]},{"name":"colors","words":[{"en":"white","ru":"белый"},{"en":"yellow","ru":"желтый"},{"en":"orange","ru":"оранжевый"},{"en":"red","ru":"красный"},{"en":"purple","ru":"фиолетовый"},{"en":"blue","ru":"синий"},{"en":"green","ru":"зеленый"},{"en":"brown","ru":"коричневый"},{"en":"pink","ru":"розовый"},{"en":"black","ru":"черный"}]},{"name":"family","words":[{"en":"family","ru":"семья"},{"en":"mother","ru":"мама"},{"en":"father","ru":"папа"},{"en":"sister","ru":"сестра"},{"en":"brother","ru":"брат"},{"en":"pet","ru":"питомец"},{"en":"grandma","ru":"бабушка"},{"en":"grandpa","ru":"дедушка"}]},{"name":"home","words":[{"en":"armchair","ru":"кресло"},{"en":"mirror","ru":"зеркало"},{"en":"kitchen","ru":"кухня"},{"en":"bed","ru":"кровать"},{"en":"toilet","ru":"туалет"},{"en":"door","ru":"дверь"},{"en":"window","ru":"окно"},{"en":"fridge","ru":"холодильник"},{"en":"chair","ru":"стул"},{"en":"bath","ru":"ванная"},{"en":"house","ru":"дом"},{"en":"couch","ru":"диван"}]},{"name":"city","words":[{"en":"bus","ru":"автобус"},{"en":"factory","ru":"завод"},{"en":"park","ru":"парк"},{"en":"excavator","ru":"экскаватор"},{"en":"city","ru":"город"},{"en":"church","ru":"церковь"},{"en":"police","ru":"полиция"},{"en":"building","ru":"здание"},{"en":"subway","ru":"метро"},{"en":"taxi","ru":"такси"}]},{"name":"emotions","words":[{"en":"happy","ru":"счастье"},{"en":"confusion","ru":"смущение"},{"en":"sadness","ru":"грусть"},{"en":"excitement","ru":"возбуждение"},{"en":"anxiety","ru":"беспокойство"},{"en":"friendship","ru":"дружба"},{"en":"love","ru":"любовь"},{"en":"anger","ru":"злость"}]}]')},function(e,n,t){t(3),e.exports=t(2)},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(0);function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(n,t,r){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.en=t,this.ru=r,this.category=n,this.html='\n    <div class="card">\n      <div class="card__card-face">\n        <div class="card__word-image"><img src="public/images/'.concat(t,'.svg" alt="').concat(t,'"></div>\n        <div class="card__info">\n          <div class="info__button"><span class="button__icon info"></span></div>\n          <div class="info__word">').concat(t,'</div>\n          <div class="sound__button"><span class="button__icon"></span></div>\n        </div>\n      </div>\n      <div class="card__card-back">\n        <div class="card__word-image"><img src="public/images/').concat(t,'.svg" alt="').concat(t,'"></div>\n        <div class="card__info">\n          <div class="info__word">').concat(r,"</div>\n        </div>\n      </div>\n    </div>\n    ")}var n,t,r;return n=e,r=[{key:"playSound",value:function(e){var n=new Audio;n.src="https://wooordhunt.ru/data/sound/word/uk/mp3/".concat(e,".mp3"),n.play()}}],(t=null)&&a(n.prototype,t),r&&a(n,r),e}(),i=document.querySelector(".navigation__toggle"),c=document.querySelector(".menu"),s=document.querySelector("body"),u=document.querySelector(".overlay"),d=function(){i.classList.toggle("open"),c.classList.toggle("show"),s.classList.toggle("stop-scroll"),u.classList.toggle("engaged"),c.querySelectorAll("li").forEach((function(e,n){var t=window.location.toString().split("#")[1];e.innerHTML.includes(t)||!t&&0===n?e.classList.add("active"):e.classList.remove("active")}))};i.addEventListener("click",d),u.addEventListener("click",d);var l=document.getElementById("switch__input");function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}l.addEventListener("click",(function(){!0===l.checked?s.classList.add("play-mode"):s.classList.remove("play-mode")}));var m=function(){function e(n,t,r){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.looked=n,this.right=t,this.wrong=r}var n,t,r;return n=e,(t=[{key:"percent",value:function(){return 0===this.right&&0===this.wrong?0:Math.floor(this.right/(this.right+this.wrong)*100)}}])&&f(n.prototype,t),r&&f(n,r),e}();function v(e,n){var t=localStorage.getItem(e);if(null===t){var r=new m(0,0,0);return r[n]+=1,localStorage.setItem(e,JSON.stringify(r)),r}var a=JSON.parse(t);return a[n]+=1,localStorage.setItem(e,JSON.stringify(a)),a}function p(e){var n=localStorage.getItem(e);if(null===n){var t=new m(0,0,0);return localStorage.setItem(e,JSON.stringify(t)),t}var r=JSON.parse(n);return new m(r.looked,r.right,r.wrong)}function h(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.elements={main:null,container:null,pointContainer:null,words:[]},this.properties={playMode:!1,gameStarted:!1},this.init()}var n,t,a;return n=e,a=[{key:"playSoundEffect",value:function(e){var n=new Audio;n.src="public/media/".concat(e,".mp3"),n.play()}},{key:"shuffle",value:function(e){e.sort((function(){return Math.random()-.5}))}},{key:"removesHash",value:function(){var e=window.location.toString();e.includes("#")&&(window.location=e.split("#")[0])}},{key:"fillStatisticsTable",value:function(e,n){r.forEach((function(e){"hardwords"===e.name&&r.pop()}));var t=document.querySelector(".stat-table > tbody");t.innerHTML="";var a=[];if(r.forEach((function(e){e.words.forEach((function(n){var t=p(n.en),r=[e.name,n.en,n.ru,t.looked,t.right,t.wrong,t.percent()];a.push(r)}))})),void 0!==e&&void 0!==n){var o=!0===n?1:-1,i=function(e,n){return e<n?1*o:-1*o};a.sort((function(n,t){return e<3?i(n[e],t[e]):i(Number(n[e]),Number(t[e]))}))}a.forEach((function(e){var n=t.insertRow(-1);e.forEach((function(e){var t=n.insertCell(-1),r=document.createTextNode(e);t.append(r)}))}))}},{key:"getHardWords",value:function(){var e=Object.keys(localStorage),n=[];e.forEach((function(e){var t=p(e);t.percent()<=25&&t.percent()>0&&n.push(e)}));var t=n.slice(0,8),a=[];t.forEach((function(e){r.forEach((function(n){n.words.forEach((function(n){e===n.en&&a.push(n)}))}))}));var o={name:"hardwords",words:a};return r.push(o),o}},{key:"eventFire",value:function(e,n){if(e.fireEvent)e.fireEvent("on"+n);else{var t=document.createEvent("Events");t.initEvent(n,!0,!1),e.dispatchEvent(t)}}},{key:"sort",value:function(n){var t=document.querySelector(".stat-table"),r=!0;t.querySelectorAll("th").forEach((function(e,t){t===n?e.classList.contains("ascend")?(e.classList.remove("ascend"),e.classList.add("descend"),r=!1):e.classList.contains("descend")?(e.classList.remove("descend"),e.classList.add("ascend")):e.classList.add("ascend"):(e.classList.remove("ascend"),e.classList.remove("descend"))})),e.fillStatisticsTable(n,r)}}],(t=[{key:"init",value:function(){this.createContainer(),this.createCategories(),this.setupPlayMode(),this.startGame(),this.showsStatistics()}},{key:"createContainer",value:function(){var e=this.elements;e.main=document.querySelector(".main-container"),e.pointContainer=document.createElement("div"),e.pointContainer.classList.add("points"),e.pointContainer.classList.add("no-display"),e.main.append(e.pointContainer),e.container=document.createElement("div"),e.container.classList.add("container__cards"),e.main.append(e.container)}},{key:"createCategories",value:function(){var e=this,n=this.elements;r.forEach((function(t){var r=document.createElement("div");r.classList.add("category-card"),r.id="".concat(t.name),r.innerHTML='\n          <a href="#'.concat(t.name,'">\n            <div class="card__image card__image_').concat(t.name,'">\n              <img src="public/images/categories/').concat(t.name,'-category.png" alt="').concat(t.name,'">\n            </div>\n            <div class="card__title">').concat(t.name,"</div>\n          </a>\n        "),n.container.append(r),r.addEventListener("click",(function(){e.removeElements(),e.addWords(t)}));var a=document.querySelector(".menu"),o=document.createElement("li");o.classList.add("menu__item"),o.innerHTML='<a class="menu__link '.concat(t.name,'" href="#').concat(t.name,'">').concat(t.name,"</a>"),o.addEventListener("click",(function(){e.removeElements(),e.addWords(t),d()})),a.append(o)}))}},{key:"addWords",value:function(e){var n=this;e.words.forEach((function(t){var r=new o(e.name,t.en,t.ru),a=document.createElement("div");a.classList.add("card__container"),a.innerHTML=r.html,n.elements.container.append(a);var i=a.querySelector(".card"),c=a.querySelector(".card__card-face"),s=a.querySelector(".sound__button"),u=a.querySelector(".info__button");if(!0!==n.properties.playMode){i.addEventListener("click",(function(e){n.properties.playMode||e.target.classList.contains("info")||o.playSound(t.en)}));var d=function(){i.classList.toggle("flipped"),c.classList.toggle("hidden"),u.classList.toggle("hidden"),s.classList.toggle("hidden")};u.addEventListener("click",(function(){v(t.en,"looked"),d()})),i.addEventListener("mouseleave",(function(){i.classList.contains("flipped")&&setTimeout((function(){d()}),200)}))}else n.cardModeSwitcher()})),this.properties.gameStarted=!1;var t=document.querySelector(".start-game"),r=document.querySelector(".repeat-sound");r.classList.add("disabled"),r.disabled=!0,t.classList.remove("disabled"),t.disabled=!1,this.elements.pointContainer.innerHTML=""}},{key:"cardModeSwitcher",value:function(){this.properties.gameStarted=!1,this.properties.playMode?(document.querySelectorAll(".card__info").forEach((function(e){e.classList.add("play-info")})),document.querySelectorAll(".card__word-image > img").forEach((function(e){e.classList.add("play-img")})),document.querySelector(".points").classList.remove("no-display"),document.querySelector(".play-panel").classList.add("on")):(document.querySelectorAll(".card__info").forEach((function(e){e.classList.remove("play-info")})),document.querySelectorAll(".card__word-image > img").forEach((function(e){e.classList.remove("play-img"),e.classList.remove("checked")})),document.querySelector(".points").classList.add("no-display"),document.querySelector(".points").innerHTML="",document.querySelector(".play-panel").classList.remove("on"))}},{key:"setupPlayMode",value:function(){var e=this,n=this.properties,t=document.querySelector('input[type="checkbox"]'),r=document.querySelector(".start-game"),a=document.querySelector(".repeat-sound");a.classList.add("disabled"),a.disabled=!0,r.classList.add("disabled"),r.disabled=!0,t.addEventListener("change",(function(){t.checked?(n.playMode=!0,1!==window.location.toString().split("#").length&&(r.classList.remove("disabled"),r.disabled=!1),window.location.toString().includes("statistics")&&(r.classList.add("disabled"),r.disabled=!0),e.cardModeSwitcher()):(n.playMode=!1,a.classList.add("disabled"),a.disabled=!0,e.cardModeSwitcher())}))}},{key:"startGame",value:function(){var n=this,t=document.querySelector(".start-game"),a=document.querySelector(".repeat-sound"),i=this.elements,c=this.properties;t.addEventListener("click",(function(){if(!1===c.gameStarted&&(r.forEach((function(n){window.location.href.indexOf(n.name)>-1&&(i.words=[],t.classList.remove("disabled"),t.disabled=!1,n.words.forEach((function(e){i.words.push(e.en)})),e.shuffle(i.words),o.playSound(i.words[0]))})),c.gameStarted=!0),!0===c.gameStarted){t.classList.add("disabled"),t.disabled=!0,a.classList.remove("disabled"),a.disabled=!1;var s=document.querySelectorAll(".card");a.addEventListener("click",(function(){o.playSound(i.words[0])}));var u=function(e){var n=document.createElement("div");n.classList.add(e),i.pointContainer.append(n)};s.forEach((function(r){r.addEventListener("click",(function(){var a=r.querySelector(".play-img").alt,s=i.words[0];if(a===s?(r.querySelector(".play-img").classList.add("checked"),v(s,"right"),e.playSoundEffect("correct"),function(){i.words.shift();var e=i.words[0];i.words.length>0&&setTimeout((function(){o.playSound(e)}),1e3)}(),u("star")):a!==s&&i.words.includes(a)&&(v(s,"wrong"),e.playSoundEffect("wrong"),u("no-star")),0===i.words.length){c.gameStarted=!1;var d=document.querySelector(".container__cards").childElementCount,l=document.querySelector(".points").childElementCount;n.removeElements(),i.pointContainer.innerHTML="",n.createEndGameScreen(d,l),t.classList.remove("disabled"),t.disabled=!1}}))}))}}))}},{key:"removeElements",value:function(){this.elements.container.innerHTML=""}},{key:"createEndGameScreen",value:function(n,t){var r=this;this.properties.gameStarted=!1,this.cardModeSwitcher();var a=document.querySelector('input[type="checkbox"]');if(document.querySelector(".play-panel").classList.remove("on"),a.checked=!1,t===n){var o='\n        <div class="end-screen">\n        <h1>Good!</h1>\n        <p>You guessed '.concat(n," out of ").concat(t,' words</p>\n        <img src="public/icons/win.svg">\n        </div>');this.elements.container.innerHTML=o,e.playSoundEffect("win")}else{var i='\n        <div class="end-screen">\n        <h1>Oh no...</h1>\n        <p>You guessed '.concat(n," out of ").concat(t,' tries</p>\n        <img src="public/icons/lose.svg">\n        </div>');this.elements.container.innerHTML=i,e.playSoundEffect("lose")}setTimeout((function(){r.removeElements(),e.removesHash()}),3e3)}},{key:"showsStatistics",value:function(){var n=this;document.querySelector(".stat-button").addEventListener("click",(function(){n.elements.container.innerHTML='\n<div class="stat-buttons">\n  <a href="#hardwords" class="stat-difficult-words" data-tooltip="Words with < 25% accuracy">Repeat difficult words</a>\n  <button type="button" class="stat-reset">Reset</button>\n</div>\n<div class ="table-overflow">\n<table class="stat-table">\n    <thead>\n        <tr>\n            <th>Categories</th>\n            <th>Words</th>\n            <th>Translation</th>\n            <th>Trained</th>\n            <th>Correct</th>\n            <th>Incorrect</th>\n            <th>%</th>\n        </tr>\n    </thead>\n    <tbody>\n    </tbody>\n</table>\n</div>',e.fillStatisticsTable(),n.addStatisticsButtons(),document.querySelectorAll("th").forEach((function(n,t){n.addEventListener("click",(function(){e.sort(t)}))}))}))}},{key:"addStatisticsButtons",value:function(){var n=this,t=document.querySelector(".stat-reset"),r=document.querySelector(".stat-difficult-words"),a=document.querySelector(".stat-button");t.addEventListener("click",(function(){localStorage.clear(),n.showsStatistics(),e.eventFire(a,"click")})),r.addEventListener("click",(function(){n.removeElements(),n.addWords(e.getHardWords())}))}}])&&h(n.prototype,t),a&&h(n,a),e}();window.addEventListener("DOMContentLoaded",(function(){return new y}))}]);